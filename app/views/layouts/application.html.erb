<!DOCTYPE html>
<html>
  <head>
    <title>Photogram Final</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "application" %>
    <%= javascript_importmap_tags %>

  </head>

  <body>
    <ul>
      <% if current_user.present? %>
        <li><a href="/users">All users</a></li>
        <li><a href="/photos">All public photos</a></li>
        <li><a href="/users/edit"><%=current_user.username%></a></li>
        <li><%= link_to "Sign Out", destroy_user_session_path, data: { turbo_method: :delete } %></li>


      <% else %>
        <li><a href="/users">All users</a></li>
        <li><a href="/photos">All public photos</a></li>
        <li><a href="/users/sign_in">Sign in</a></li>
        <li><a href="/users/sign_up">Sign up</a></li>
      <% end %>
    </ul>

    <%# --- ADD THESE LINES TO DISPLAY FLASH MESSAGES --- %>
    <% if notice %>
      <p style="color: green;"><%= notice %></p> 
      <%# You can style this however you like, 'notice' is often green %>
    <% end %>
    <% if alert %>
      <p style="color: red;"><%= alert %></p> 
      <%# 'alert' is often red. This is where Devise's message will appear %>
    <% end %>
    <%# --- END OF ADDED LINES --- %>


    <%= yield %>
  </body>
</html>
